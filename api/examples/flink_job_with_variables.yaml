# Example Flink job configuration with variables
# Variables are referenced using ${VARIABLE_NAME} syntax
# Before submitting to Flink, the API will replace these with their actual values

name: Example Job with Variables
description: A demo job showing variable usage for sensitive information

# Job parameters
jobType: SQL
parallelism: 2

# Database connections with sensitive credentials stored as variables
sourceConfig:
  type: jdbc
  driver: com.mysql.cj.jdbc.Driver
  url: jdbc:mysql://${DB_HOST}:3306/source_db
  username: ${DB_USERNAME}
  password: ${DB_PASSWORD}

sinkConfig:
  type: jdbc
  driver: org.postgresql.Driver
  url: jdbc:postgresql://${PG_HOST}:5432/target_db
  username: ${PG_USERNAME}
  password: ${PG_PASSWORD}

# SQL query for the job
sqlQuery: |
  SELECT 
    id,
    name,
    email,
    created_at,
    updated_at
  FROM source_table
  WHERE updated_at > CURRENT_TIMESTAMP - INTERVAL '1' DAY

# Additional configuration
settings:
  execution.checkpointing.interval: 60000
  execution.checkpointing.mode: EXACTLY_ONCE
  taskmanager.memory.process.size: 4096mb

# API key stored as a variable
security:
  apiKey: ${API_KEY}
